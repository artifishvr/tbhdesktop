<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>tbh</title>
    <meta name="description" content="the tbh creature">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="tbh.css">
</head>

<body ondragstart="return false"> <!-- //NOSONAR -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h1>Settings</h1>
            <form id="settingsForm">
                <label for="funnytoggle">tbh overload</label>
                <input type="checkbox" id="funnytoggle"><br><br>
                <input type="button" value="Save" id="save">
            </form>
        </div>
    </div>

    <a id="settings-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cog">
            <path d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z" />
            <path d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" />
            <path d="M12 2v2" />
            <path d="M12 22v-2" />
            <path d="m17 20.66-1-1.73" />
            <path d="M11 10.27 7 3.34" />
            <path d="m20.66 17-1.73-1" />
            <path d="m3.34 7 1.73 1" />
            <path d="M14 12h8" />
            <path d="M2 12h2" />
            <path d="m20.66 7-1.73 1" />
            <path d="m3.34 17 1.73-1" />
            <path d="m17 3.34-1 1.73" />
            <path d="m11 13.73-4 6.93" />
        </svg>
    </a>

    <video id="shattervid" style="display: none;">
        <source src="shatter.mp4" type="video/mp4">
    </video>

    <img src="tbh.png" id="tbh" alt="tbh">

    <a id="updatebanner" href="https://github.com/artifishvr/tbhdesktop/releases" target="_blank" style="display: none;">
        <div class="banner">
            <p id="updatetext">Update Available!<br>Click here to download!</p>
        </div>
    </a>
</body>

</html>

<script src="tbh.js" type="module"></script>
<script src="settingsmodal.js" type="module"></script>
<script type="module">
    import { check } from '@tauri-apps/plugin-updater';

    update();

    async function update() {
        const update = await check();

        if (update) {
            document.getElementById("updatebanner").style.display = "block";
            document.getElementById("updatetext").innerText = `Update Available (v${update.version})\nClick to download!`
        }
    }
</script>